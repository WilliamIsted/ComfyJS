"use strict";var Q=(t,a,n)=>{if(!a.has(t))throw TypeError("Cannot "+n)};var s=(t,a,n)=>(Q(t,a,"read from private field"),n?n.call(t):a.get(t)),g=(t,a,n)=>{if(a.has(t))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(t):a.set(t,n)},C=(t,a,n,e)=>(Q(t,a,"write to private field"),e?e.call(t,n):a.set(t,n),n);var S=(t,a,n)=>(Q(t,a,"access private method"),n);function St(t){return t.replace(/\\(.)/g,(a,n)=>{switch(n){case"\\":return"\\";case":":return";";case"s":return" ";case"r":return"\r";case"n":return`
`;default:return n}})}function z(t,a){const n=t.indexOf(" ",a);return{component:t.slice(a+1,n),nextIndex:n+1}}function Mt(t){const a={raw:t,tags:{},source:null,command:null,parameters:null};let n=0;if(t[0]==="@"){const{component:e,nextIndex:r}=z(t,0);for(const d of e.split(";")){const b=d.split("=");a.tags[b[0]]=St(b[1])}n=r}if(t[n]===":"){const{component:e,nextIndex:r}=z(t,n);a.source=e,n=r}if(n<t.length){const e=t.slice(n).trim(),r=e.indexOf(":");a.command=e.slice(0,r<0?void 0:r).trim();const d=t.indexOf(":",n);d>=0&&(a.parameters=t.slice(d+1))}return a}const Nt=globalThis.WebSocket||require("ws");function Rt(t,a){return new Nt(t,a)}var l=(t=>(t.None="none",t.Ping="Ping",t.Pong="Pong",t.Connect="connect",t.Reconnected="reconnect",t.Error="error",t.Warning="Warning",t.ChatMode="chatmode",t.ClearChat="ClearChat",t.RoomState="roomstate",t.GlobalUserState="globaluserstate",t.UserState="userstate",t.Notice="notice",t.Join="join",t.Leave="leave",t.Command="command",t.Chat="message",t.Reply="reply",t.Whisper="whisper",t.Announcement="announcement",t.Cheer="Cheer",t.Subscribe="sub",t.Resubscribe="resub",t.SubGift="subgift",t.AnonymousSubGift="anonsubgift",t.MysterySubGift="submysterygift",t.AnonymousMysterySubGift="anonsubmysterygift",t.SubGiftContinue="subgiftcontinue",t.Raid="raid",t.Timeout="Timeout",t.Ban="Ban",t.MessageDeleted="MessageDeleted",t.All="all",t))(l||{});const B={"":"Normal",admin:"Admin",global_mod:"Global Mod",staff:"Staff",mod:"Moderator"};function G(t){const a=t.split("!");return a.length>1?a[0]:void 0}function U(t){if(!t)return"";const a=t.split(","),n={};for(const e of a){const[r,d]=e.split("/");n[r]=d}return n}function Ot(t,a){var X,Y;const n=(X=t.parameters)==null?void 0:X.startsWith("ACTION"),e=n?(Y=t.parameters)==null?void 0:Y.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1]:t.parameters,r=t.tags.id,d=t.tags["room-id"],b=t.tags["user-id"],p=G(t.source),u=t.tags["display-name"]||t.tags.login||p,I=B[t.tags["user-type"]],J=U(t.tags["badge-info"]||""),y=U(t.tags.badges||""),H=t.tags.color,_=t.tags.emotes,O=U(t.tags.flags),ot=p===a,it=t.tags.mod==="1",ut=!!y.founder,lt=t.tags.subscriber==="1",dt=t.tags.turbo==="1",gt=!!y.vip,pt=!!y.premium,ct=!!y.partner,mt=!!y["game-developer"],q=parseInt(t.tags["tmi-sent-ts"]),E=t.tags["emote-only"]==="1",ft=t.tags["msg-id"]==="highlighted-message",bt=t.tags["msg-id"]==="skip-subs-mode-message",w=t.tags["custom-reward-id"]||null,ht=t.tags["first-msg"]==="1",It=t.tags["returning-chatter"]==="1",K={broadcaster:ot,mod:it,founder:ut,subscriber:lt,vip:gt,partner:ct,gameDeveloper:mt,turbo:dt,prime:pt,highlighted:ft,skipSubsMode:bt,customReward:!!w,emoteOnly:E,firstMessage:ht,returningChatter:It};if(t.tags.bits)return{type:"Cheer",data:{channel:a,channelId:d,displayName:u,username:p,userId:b,userType:I,id:r,message:t.parameters,messageType:n?"action":"chat",messageEmotes:_,messageFlags:O,isEmoteOnly:E,userColor:H,userBadgeInfo:J,userBadges:y,customRewardId:w,flags:K,bits:parseInt(t.tags.bits),timestamp:q,extra:{...t.tags,flags:O}}};if(e!=null&&e.startsWith("!")){const Z=e.split(/ (.*)/),yt=Z[0].substring(1).toLowerCase(),Ct=Z[1]||"";return{type:"command",data:{channel:a,channelId:d,displayName:u,username:p,userId:b,userType:I,command:yt,id:r,message:Ct,messageType:n?"action":"chat",messageEmotes:_,messageFlags:O,isEmoteOnly:E,userColor:H,userBadgeInfo:J,userBadges:y,customRewardId:w,flags:K,timestamp:q,extra:{...t.tags,flags:O}}}}else return{type:"message",data:{channel:a,channelId:d,displayName:u,username:p,userId:b,userType:I,id:r,message:e,messageType:n?"action":"chat",messageEmotes:_,messageFlags:O,isEmoteOnly:E,userColor:H,userBadgeInfo:J,userBadges:y,customRewardId:w,flags:K,timestamp:q,extra:{...t.tags,flags:O}}}}function Pt(t){var a,n,e,r,d,b;try{if(t.command){const p=t.command.split(" "),u=p.length>1?p[1].substring(1):void 0;switch(p[0]){case"PING":return{type:"Ping"};case"PONG":return{type:"Pong"};case"CAP":return null;case"JOIN":return{type:"join",data:{channel:u,username:G(t.source)}};case"PART":return{type:"leave",data:{channel:u,username:G(t.source)}};case"ROOMSTATE":return{type:"roomstate",data:{...t.tags["broadcaster-lang"]&&{broadcasterLanguage:t.tags["broadcaster-lang"]},...t.tags["emote-only"]&&{emoteOnly:t.tags["emote-only"]!=="0"},...t.tags["followers-only"]&&{followersOnly:t.tags["followers-only"]!=="-1"},...t.tags["subs-only"]&&{subscribersOnly:t.tags["subs-only"]!=="0"},...t.tags.r9k&&{r9k:t.tags.r9k!=="0"},...t.tags.rituals&&{rituals:t.tags.rituals!=="0"},...t.tags.slow&&{slow:t.tags.slow!=="0"},channel:u,channelId:t.tags["room-id"]}};case"GLOBALUSERSTATE":return{type:"globaluserstate",data:{displayName:t.tags["display-name"],userId:t.tags["user-id"],userType:B[t.tags["user-type"]],color:t.tags.color,badges:t.tags.badges,badgeInfo:t.tags["badge-info"],emoteSets:t.tags["emote-sets"],extra:t.tags}};case"USERSTATE":return{type:"userstate",data:{channel:u,displayName:t.tags["display-name"],userId:t.tags["user-id"],userType:B[t.tags["user-type"]],color:t.tags.color,badgeInfo:U(t.tags["badge-info"]||""),badges:U(t.tags.badges||""),emoteSets:t.tags["emote-sets"],...t.tags.id&&{id:t.tags.id},mod:t.tags.mod==="1",subscriber:t.tags.subscriber==="1",turbo:t.tags.turbo==="1",extra:t.tags}};case"HOSTTARGET":break;case"USERNOTICE":switch(t.tags["msg-id"]){case"announcement":return{type:"announcement",data:{displayName:t.tags["display-name"]||t.tags.login,channel:u,channelId:t.tags["room-id"],username:t.tags.login,userId:t.tags["user-id"],message:t.parameters,timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"sub":return{type:"sub",data:{displayName:t.tags["display-name"]||t.tags.login,months:parseInt(t.tags["msg-param-months"]),multiMonthDuration:parseInt(t.tags["msg-param-multimonth-duration"]),multiMonthTenure:parseInt(t.tags["msg-param-multimonth-tenure"]),shouldShareStreak:t.tags["msg-param-should-share-streak"]==="1",subPlan:t.tags["msg-param-sub-plan"],wasGifted:t.tags["msg-param-was-gifted"]==="true",...t.tags["msg-param-goal-contribution-type"]&&{goalContributionType:t.tags["msg-param-goal-contribution-type"]},...t.tags["msg-param-goal-current-contributions"]&&{goalCurrentContributions:parseInt(t.tags["msg-param-goal-current-contributions"])},...t.tags["msg-param-goal-description"]&&{goalDescription:t.tags["msg-param-goal-description"]},...t.tags["msg-param-goal-target-contributions"]&&{goalTargetContributions:parseInt(t.tags["msg-param-goal-target-contributions"])},...t.tags["msg-param-goal-user-contributions"]&&{goalUserContributions:parseInt(t.tags["msg-param-goal-user-contributions"])},channel:u,channelId:t.tags["room-id"],username:t.tags.login,userId:t.tags["user-id"],message:t.parameters,timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"resub":return{type:"resub",data:{displayName:t.tags["display-name"]||t.tags.login,cumulativeMonths:parseInt(t.tags["msg-param-cumulative-months"]),months:parseInt(t.tags["msg-param-months"]),multiMonthDuration:parseInt(t.tags["msg-param-multimonth-duration"]),multiMonthTenure:parseInt(t.tags["msg-param-multimonth-tenure"]),...t.tags["msg-param-streak-months"]&&{streakMonths:parseInt(t.tags["msg-param-streak-months"])},shouldShareStreak:t.tags["msg-param-should-share-streak"]==="1",subPlan:t.tags["msg-param-sub-plan"],wasGifted:t.tags["msg-param-was-gifted"]==="true",channel:u,channelId:t.tags["room-id"],username:t.tags.login,userId:t.tags["user-id"],message:t.parameters,timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"submysterygift":return{type:"submysterygift",data:{displayName:t.tags["display-name"]||t.tags.login,giftCount:parseInt(t.tags["msg-param-mass-gift-count"]),senderCount:parseInt(t.tags["msg-param-sender-count"]),subPlan:t.tags["msg-param-sub-plan"],...t.tags["msg-param-goal-contribution-type"]&&{goalContributionType:t.tags["msg-param-goal-contribution-type"]},...t.tags["msg-param-goal-current-contributions"]&&{goalCurrentContributions:parseInt(t.tags["msg-param-goal-current-contributions"])},...t.tags["msg-param-goal-description"]&&{goalDescription:t.tags["msg-param-goal-description"]},...t.tags["msg-param-goal-target-contributions"]&&{goalTargetContributions:parseInt(t.tags["msg-param-goal-target-contributions"])},...t.tags["msg-param-goal-user-contributions"]&&{goalUserContributions:parseInt(t.tags["msg-param-goal-user-contributions"])},channel:u,channelId:t.tags["room-id"],username:t.tags.login,userId:t.tags["user-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"subgift":return{type:"subgift",data:{displayName:t.tags["display-name"]||t.tags.login,recipientDisplayName:t.tags["msg-param-recipient-display-name"],recipientId:t.tags["msg-param-recipient-id"],recipientUsername:t.tags["msg-param-recipient-user-name"],months:parseInt(t.tags["msg-param-months"]),giftMonths:parseInt(t.tags["msg-param-gift-months"]),subPlan:t.tags["msg-param-sub-plan"],...t.tags["msg-param-goal-contribution-type"]&&{goalContributionType:t.tags["msg-param-goal-contribution-type"]},...t.tags["msg-param-goal-current-contributions"]&&{goalCurrentContributions:parseInt(t.tags["msg-param-goal-current-contributions"])},...t.tags["msg-param-goal-description"]&&{goalDescription:t.tags["msg-param-goal-description"]},...t.tags["msg-param-goal-target-contributions"]&&{goalTargetContributions:parseInt(t.tags["msg-param-goal-target-contributions"])},...t.tags["msg-param-goal-user-contributions"]&&{goalUserContributions:parseInt(t.tags["msg-param-goal-user-contributions"])},channel:u,channelId:t.tags["room-id"],username:t.tags.login,userId:t.tags["user-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"giftsubcontinue":return{type:"subgiftcontinue",data:{displayName:t.tags["display-name"]||t.tags.login,gifterDisplayName:t.tags["msg-param-sender-name"]||t.tags["msg-param-sender-login"],gifterUsername:t.tags["msg-param-sender-login"],channel:u,channelId:t.tags["room-id"],username:t.tags.login,userId:t.tags["user-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"raid":return{type:"raid",data:{profileImageURL:t.tags["msg-param-profileImageURL"],displayName:t.tags["msg-param-displayName"]||t.tags["display-name"]||t.tags["msg-param-login"]||t.tags.login,viewers:parseInt(t.tags["msg-param-viewerCount"]),channel:u,channelId:t.tags["room-id"],username:t.tags["msg-param-login"]||t.tags.login,userId:t.tags["user-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};default:console.log("TODO IMPLEMENT COMMAND",t);break}break;case"WHISPER":return console.log(t),console.log("Channel:",u,t.parameters),{type:"whisper",data:{displayName:t.tags["display-name"]||t.tags.login||G(t.source),username:G(t.source),userId:t.tags["user-id"],userType:B[t.tags["user-type"]],color:t.tags.color,badges:t.tags.badges,emotes:t.tags.emotes,turbo:t.tags.turbo==="1",threadId:t.tags["thread-id"],messageId:t.tags["message-id"],message:t.parameters,messageType:"whisper",extra:t.tags}};case"NOTICE":return(a=t.parameters)!=null&&a.includes("Login unsuccessful")||(n=t.parameters)!=null&&n.includes("Login authentication failed")||(e=t.parameters)!=null&&e.includes("Error logging in")||(r=t.parameters)!=null&&r.includes("Improperly formatted auth")||(d=t.parameters)!=null&&d.includes("Invalid NICK")||(b=t.parameters)!=null&&b.includes("Invalid CAP REQ")?{type:"error",data:{channel:u,message:t.parameters}}:{type:"notice",data:{channel:u,msgId:t.tags["msg-id"],message:t.parameters}};case"CLEARCHAT":return t.tags["target-user-id"]?t.tags["ban-duration"]?{type:"Timeout",data:{channel:u,channelId:t.tags["room-id"],duration:parseInt(t.tags["ban-duration"]),username:t.parameters,userId:t.tags["target-user-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}}:{type:"Ban",data:{channel:u,channelId:t.tags["room-id"],username:t.parameters,userId:t.tags["target-user-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}}:{type:"ClearChat",data:{channel:u,channelId:t.tags["room-id"],timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"CLEARMSG":return{type:"MessageDeleted",data:{channel:u,channelId:t.tags["room-id"],displayName:t.tags["display-name"]||t.tags.login,username:t.tags.login,id:t.tags["target-msg-id"],message:t.parameters,timestamp:parseInt(t.tags["tmi-sent-ts"]),extra:t.tags}};case"PRIVMSG":return Ot(t,u);case"RECONNECT":console.log("The Twitch IRC server is about to terminate the connection for maintenance.");break;default:{const I=parseInt(p[0]);if(I>=400)return console.debug(`Error IRC command: ${I}`,t),null;switch(I){case 1:return null;case 2:case 3:case 4:case 353:case 366:case 372:case 375:return null;case 376:return{type:"connect",data:{username:p[1]}};default:return console.debug("Unsupported numeric command",I),null}}break}}else console.debug("Unprocessed IRC message:",t.raw)}catch(p){return console.error(p),{type:"Warning",data:p}}return console.log(t),null}function kt(t){t.send("CAP REQ :twitch.tv/tags twitch.tv/commands")}function Gt(t,a,n){const e=n?a:`justinfan${Math.floor(Math.random()*99998999+1e3)}`,r=n||"INSTAFLUFF";t.send(`PASS ${r}`),t.send(`NICK ${e}`)}function T(t,a){t.send(`JOIN #${a}`)}function Ut(t,a){t.send(`PART #${a}`)}function At(t){t.send("PING")}function Et(t){t.send("PONG")}function wt(t,a,n){t.send(`PRIVMSG #${a} :${n}`)}function Bt(t,a,n,e){t.send(`@reply-parent-msg-id=${n} PRIVMSG #${a} :${e}`)}var o,R,A,N,P,k,D,c,m,L,x,W,tt,$,at,F,rt,V,nt,j,st,v,et;class Dt{constructor(a,n,e,r){g(this,k);g(this,c);g(this,L);g(this,W);g(this,$);g(this,F);g(this,V);g(this,j);g(this,v);g(this,o,void 0);g(this,R,void 0);g(this,A,void 0);g(this,N,void 0);g(this,P,void 0);C(this,P,0),this.chatModes={},this.handlers={},C(this,R,a),C(this,A,n),this.debug=!!r,(typeof e=="string"||e instanceof String)&&(e=[e]),this.channels=e||[a],S(this,L,x).call(this)}get version(){return"2.0.0"}on(a,n){this.handlers[a]=n}say(a,n){s(this,o)&&s(this,c,m)&&wt(s(this,o),n||s(this,k,D),a)}reply(a,n,e){s(this,o)&&s(this,c,m)&&Bt(s(this,o),e||s(this,k,D),a,n)}join(a){s(this,o)&&s(this,c,m)&&T(s(this,o),a)}leave(a){s(this,o)&&s(this,c,m)&&Ut(s(this,o),a)}deleteMessage(a,n){s(this,o)&&s(this,c,m)}destroy(){s(this,o)&&s(this,o).readyState!==s(this,o).CLOSED&&s(this,o).close()}}o=new WeakMap,R=new WeakMap,A=new WeakMap,N=new WeakMap,P=new WeakMap,k=new WeakSet,D=function(){return this.channels[0]},c=new WeakSet,m=function(){return s(this,o)&&s(this,o).readyState===s(this,o).OPEN},L=new WeakSet,x=function(){if(s(this,c,m))return;C(this,o,Rt("wss://irc-ws.chat.twitch.tv:443","irc")),s(this,o).onopen=()=>{S(this,W,tt).call(this)},s(this,o).onmessage=n=>{S(this,v,et).call(this,n)},s(this,o).onerror=n=>{S(this,$,at).call(this,n)},s(this,o).onclose=n=>{S(this,F,rt).call(this,n)}},W=new WeakSet,tt=function(){s(this,o)&&s(this,c,m)&&(kt(s(this,o)),Gt(s(this,o),s(this,R),s(this,A)),T(s(this,o),s(this,k,D)))},$=new WeakSet,at=function(a){console.error("ERROR",a)},F=new WeakSet,rt=function(a){console.info("CLOSE",a),s(this,N)&&clearInterval(s(this,N))},V=new WeakSet,nt=function(){s(this,o)&&s(this,c,m)&&(C(this,P,Date.now()),At(s(this,o)))},j=new WeakSet,st=function(a){if(s(this,o)&&s(this,c,m))switch(a.type){case l.Connect:C(this,R,a.data.username),s(this,N)&&clearInterval(s(this,N)),C(this,N,setInterval(()=>{S(this,V,nt).call(this)},6e4));break;case l.Ping:Et(s(this,o));break;case l.Pong:a.data=a.data||{},a.data.latency=Date.now()-s(this,P);break;case l.RoomState:this.chatModes[a.data.channel]={...this.chatModes[a.data.channel],...a.data},this.handlers[l.ChatMode]&&this.handlers[l.ChatMode](this.chatModes[a.data.channel]);break;case l.Error:s(this,o).close();break;case l.Chat:a.data.self=a.data.username===s(this,R),this.handlers[l.Reply]&&a.data.extra["reply-parent-msg-id"]&&this.handlers[l.Reply]({...a.data,parentId:a.data.extra["reply-parent-msg-id"],parentUserId:a.data.extra["reply-parent-user-id"],parentUser:a.data.extra["reply-parent-user-login"],parentMessage:a.data.extra["reply-parent-msg-body"],parentDisplayName:a.data.extra["reply-parent-display-name"]||a.data.extra["reply-parent-user-login"]});break}},v=new WeakSet,et=function(a){if(!s(this,o)||!s(this,c,m))return;const n=a.data.trim().split(`\r
`);for(const e of n){const r=Pt(Mt(e));r&&r.type!==l.None&&(S(this,j,st).call(this,r),this.handlers[r.type]&&this.handlers[r.type](r.data),this.handlers[l.All]&&this.handlers[l.All]({event:r.type,...r.data}))}};let i;function h(t){if(t){const a=t.split("/"),n={};for(const e of a){const[r,d]=e.split(":");n[r]=d.split(",")}return n}return null}function M(t){const a={};for(const n in t.extra)t.extra[n]===""?a[n]=null:t.extra[n]==="1"?a[n]=!0:t.extra[n]==="0"?a[n]=!1:a[n]=t.extra[n];return a["badge-info-raw"]=a["badge-info"],a["badge-info"]=t.userBadgeInfo||null,a["badges-raw"]=a.badges,a.badges=t.userBadges||null,a["emotes-raw"]=a.emotes,a.emotes=h(t.messageEmotes),a.username=t.username,a["message-type"]=t.messageType,a}const f={version:()=>"2.0.0",onError:t=>{console.error("Error:",t)},onCommand:(t,a,n,e,r)=>{i&&i.debug&&console.debug("onCommand default handler")},onChat:(t,a,n,e,r)=>{i&&i.debug&&console.debug("onChat default handler")},onWhisper:(t,a,n,e,r)=>{i&&i.debug&&console.debug("onWhisper default handler")},onSub:(t,a,n,e)=>{i&&i.debug&&console.debug("onSub default handler")},onResub:(t,a,n,e,r,d)=>{i&&i.debug&&console.debug("onResub default handler")},onSubGift:(t,a,n,e,r,d)=>{i&&i.debug&&console.debug("onSubGift default handler")},onSubMysteryGift:(t,a,n,e,r)=>{i&&i.debug&&console.debug("onSubMysteryGift default handler")},onTimeout:(t,a,n)=>{i&&i.debug&&console.debug("onTimeout default handler")},onBan:(t,a)=>{i&&i.debug&&console.debug("onBan default handler")},Init:(t,a,n,e)=>{i=new Dt(t,a,n,e),i.on(l.Command,r=>{f.onCommand(r.displayName||r.username,r.command,r.message,r.flags,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes)})}),i.on(l.Chat,r=>{f.onChat(r.displayName||r.username,r.message,r.flags,r.self,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes)})}),i.on(l.Subscribe,r=>{f.onSub(r.displayName||r.username,r.message,r.subTierInfo,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes)})}),i.on(l.Resubscribe,r=>{f.onResub(r.displayName||r.username,r.message,r.streamMonths,r.cumulativeMonths,r.subTierInfo,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes)})}),i.on(l.SubGift,r=>{f.onSubGift(r.displayName||r.username,r.streakMonths,r.recipientUser,r.senderCount,r.subTierInfo,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes)})}),i.on(l.MysterySubGift,r=>{f.onSubMysteryGift(r.displayName||r.username,r.numbOfSubs,r.senderCount,r.subTierInfo,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes)})}),i.on(l.Timeout,r=>{f.onTimeout(r.displayName||r.username,r.duration,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes),timedOutUserId:r.userId})}),i.on(l.Ban,r=>{f.onBan(r.displayName||r.username,{...r,userState:M(r),extra:null,flags:null,roomId:r.channelId,messageEmotes:h(r.messageEmotes),bannedUserId:r.userId})})}};typeof module<"u"&&module.exports&&(module.exports=f);typeof window<"u"&&(window.ComfyJSNew=f);
//# sourceMappingURL=comfy.min.js.map
